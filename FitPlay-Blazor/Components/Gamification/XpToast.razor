@if (Show)
{
    <div class="xp-toast @(LeveledUp ? "level-up" : "")">
        <div class="toast-content">
            @if (LeveledUp)
            {
                <div class="level-up-icon">^</div>
                <div class="toast-text">
                    <span class="main-text">Level Up!</span>
                    <span class="sub-text">You reached Level @NewLevel</span>
                </div>
            }
            else
            {
                <div class="xp-icon">+</div>
                <div class="toast-text">
                    <span class="main-text">+@XpAwarded XP</span>
                    <span class="sub-text">Training completed!</span>
                </div>
            }
        </div>
        @if (NewAchievements?.Any() == true)
        {
            <div class="achievement-notice">
                New achievement: @NewAchievements.First().Name
            </div>
        }
    </div>
}

<style>
    .xp-toast {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        z-index: 1000;
        animation: slideIn 0.3s ease-out, slideOut 0.3s ease-in 2.7s forwards;
    }

    .xp-toast.level-up {
        background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);
        box-shadow: 0 8px 24px rgba(237, 137, 54, 0.4);
    }

    .toast-content {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .xp-icon, .level-up-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        font-weight: bold;
    }

    .toast-text {
        display: flex;
        flex-direction: column;
    }

    .main-text {
        font-size: 18px;
        font-weight: bold;
    }

    .sub-text {
        font-size: 13px;
        opacity: 0.9;
    }

    .achievement-notice {
        margin-top: 12px;
        padding-top: 12px;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        font-size: 13px;
    }

    @@keyframes slideIn {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    @@keyframes slideOut {
        from {
            transform: translateX(0);
            opacity: 1;
        }
        to {
            transform: translateX(100%);
            opacity: 0;
        }
    }
</style>

@code {
    [Parameter] public bool Show { get; set; }
    [Parameter] public int XpAwarded { get; set; }
    [Parameter] public bool LeveledUp { get; set; }
    [Parameter] public int NewLevel { get; set; }
    [Parameter] public List<FitPlay.Blazor.Services.ApiClient.Achievement>? NewAchievements { get; set; }
}
